<html>
<head>
  <meta http-equiv="Content-type" content="text/html;">
  <title>eSports</title>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.12/css/all.css" integrity="sha384-G0fIWCsCzJIMAVNQPfjH08cyYaUtMwjJwqiRKxxE/rx96Uroj1BtIQ6MLJuheaO9" crossorigin="anonymous">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Nunito:400,600,700" rel="stylesheet">
  <link rel="stylesheet" href="../css/style.css" />
  <link rel="stylesheet" href="../css/slicknav.css" />
  <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/2.5.1/firebaseui.css" />
  
  <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>
  <script src="../js/pgb.js"></script>
  <script src="cordova.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
  <script src="../js/jquery.slicknav.min.js"></script>
  <script src="../js/bootstrap.js"></script>
  <script src="../js/angular.min.js"></script>
  <script src="https://cdn.firebase.com/libs/firebaseui/2.5.1/firebaseui.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>

</head>
<body>
<style>
body {
    background-image: url("../img/back.png");
    background-repeat: repeat;
}
</style>

<script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyDXKUmcnFU1EffDQs1x2Msict-YhZB37W8",
    authDomain: "esports-login.firebaseapp.com",
    databaseURL: "https://esports-login.firebaseio.com",
    projectId: "esports-login",
    storageBucket: "esports-login.appspot.com",
    messagingSenderId: "1087845212522"
  };
  firebase.initializeApp(config);
</script>



	<ul class="nav justify-content-center navbar-light bg-light">
		<li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          | <i class="fas fa-bars"></i>  
        </a>
		<div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="dotamain.html">Dota</a>
          <a class="dropdown-item" href="leaguemain.html">League of Legends</a>
          <a class="dropdown-item" href="overmain.html">Overwatch</a>
        </div>
        </li>
		<li class="nav-item">
			<a class="nav-link" href="main01.html"> | <i class="fas fa-home"></i> | </a>
		</li>
		<li class="nav-item">
			<a class="nav-link" href="userprofile.html"> | <i class="fas fa-user"></i> | </a>
		</li>
		<li class="nav-item">
			<a class="nav-link" onclick="logout()">  <i class="fas fa-sign-out-alt"></i> | </a>
		</li>
	</ul>

	
	
	<canvas id="myChart"></canvas>
	
	
	
	
	
<script>
//LEAGUES DOTA@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
var database = firebase.database();
var iloscdota;
var ilosclol;
var iloscover;
var leaguesdota = [];
               
function gotLeaguedota(data) {
 
    var dotaleague = data.val();
    var keys = Object.keys(dotaleague);
    var leaguename = dotaleague.leaguename;
    var leagueurl = dotaleague.leagueurl;
    leaguesdota.push(leaguename);
    leaguesdota.push(leagueurl);
	iloscdota = leaguesdota.length/2;;
	
	
}
for (var leaguenumber = 1; leaguenumber < 13; leaguenumber++) {
    database.ref('videogame2/leagues/league' + leaguenumber).on('value', gotLeaguedota, errData);

}

	
var leagueslol = [];
               
function gotLeaguelol(data) {
 
    var lolleague = data.val();
    var keys = Object.keys(lolleague);
    var leaguename = lolleague.leaguename;
    var leagueurl = lolleague.leagueurl;
    leagueslol.push(leaguename);
    leagueslol.push(leagueurl);
	ilosclol = leagueslol.length/2;;
}
for (var leaguenumber = 1; leaguenumber < 13; leaguenumber++) {
    database.ref('videogame1/leagues/league' + leaguenumber).on('value', gotLeaguelol, errData);
}

var leaguesover = [];
               
function gotLeagueov(data) {
 
    var ovleague = data.val();
    var keys = Object.keys(ovleague);
    var leaguename = ovleague.leaguename;
    var leagueurl = ovleague.leagueurl;
    leaguesover.push(leaguename);
    leaguesover.push(leagueurl);
	iloscover = leaguesover.length/2;
}
for (var leaguenumber = 1; leaguenumber < 3; leaguenumber++) {
    database.ref('videogame3/leagues/league' + leaguenumber).on('value', gotLeagueov, errData);
}

//TEAMS@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

var teams = [];
               
function gotTeam(data) {
				
	var dotateam = data.val();
	var keys = Object.keys(dotateam);
	var teamname = dotateam.name;
	var teamacronym = dotateam.acronym;
	teams.push(teamname);
	teams.push(teamacronym);
}
for (var teamnumber = 0; teamnumber < 10; teamnumber++) {
		database.ref('videogame2/teams/' + teamnumber).on('value', gotTeam, errData);
}
//ERRORS@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
function errData(err) {
    console.log('Error!');
    console.log(err);
}


function chartone() {
	
	console.log(window.iloscdota);
	console.log(window.ilosclol);
	console.log(window.iloscover);

	
	var ctx = document.getElementById('myChart').getContext('2d');
	var chart = new Chart(ctx, {
    // The type of chart we want to create
    type: 'line',

    // The data for our dataset
    data: {
        labels: ["Dota leagues", "LoL leagues", "Overwatch leagues"],
        datasets: [{
            label: "Number of leagues for each game",
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: [window.iloscdota, window.ilosclol, window.iloscover],
        }]
    },

    // Configuration options go here
    options: {}
});
}
	
</script>
  
  <button  onclick="chartone()">Leagues</button>

	
	
	
	

</body>
</html>
