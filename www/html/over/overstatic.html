<html>
<head>
  <meta http-equiv="Content-type" content="text/html;">
  <title>eSports</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Nunito:400,600,700" rel="stylesheet">
  <link rel="stylesheet" href="/www/css/style.css" />
  <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>
  <script src="/www/js/pgb.js"></script>
  <script src="/www/cordova.js"></script>
  
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
 


<script src="../../js/bootstrap.js"></script>
<script src="../../js/angular.min.js"></script>


</head>
<body>
<script>
	  // Initialize Firebase
	  var config = {
		apiKey: "AIzaSyDXKUmcnFU1EffDQs1x2Msict-YhZB37W8",
		authDomain: "esports-login.firebaseapp.com",
		databaseURL: "https://esports-login.firebaseio.com",
		projectId: "esports-login",
		storageBucket: "esports-login.appspot.com",
		messagingSenderId: "1087845212522"
	  };
	  firebase.initializeApp(config);
	  console.log(firebase);
	</script>
<script src="https://apis.google.com/js/platform.js" async defer>
</script>
<script src="../../js/auth.js"></script>
	<script src="../../js/login.js"></script>
	<div class="btn-group">
	<button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    =
	</button>
	<div class="dropdown-menu dropdown-menu-right">
    <a class="dropdown-item" href="../userprofile.html">User profile</a>
	<button class="dropdown-item" type="button" onclick="logout()">Logout</button>
	</div>
	</div>






<script>

//GAMENAMES @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
var database = firebase.database();
var ref = database.ref('videogame3');
ref.on('value', gotNames, errData);


function gotNames(data) {

	var ovnames = data.val();
	var keys = Object.keys(ovnames);
	var gamename = ovnames.gamename
	var gametag = ovnames.gametag
		//console.log(gamename, gametag);
		document.getElementById("nazwa").innerHTML = gamename + ". " + gametag + ".";
	}
//LEAGUES@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 
var leagues = [];
               
function gotLeague(data) {
 
    var ovleague = data.val();
    var keys = Object.keys(ovleague);
    var leaguename = ovleague.leaguename;
    var leagueurl = ovleague.leagueurl;
    leagues.push(leaguename);
    leagues.push(leagueurl);
	
	
	//console.log(leagues);
	//console.log(leagues[0]);
	//document.getElementById("ligi").innerHTML = leagues;
	
	document.getElementById("liga0").innerHTML = "Nazwa ligi: " + leagues[0] + ".";
	document.getElementById("liga2").innerHTML = "Nazwa ligi: " + leagues[2] +  ".";
	document.getElementById("ligaurl0").innerHTML = "Url: " + leagues[1] + ".";
	document.getElementById("ligaurl2").innerHTML = "Url: " + leagues[3] + ".";

}

for (var leaguenumber = 1; leaguenumber < 3; leaguenumber++) {
    database.ref('videogame3/leagues/league' + leaguenumber).on('value', gotLeague, errData);
}

//for(var k = 0; k < 22; k+2) {
//	document.getElementById("liga" + k).innerHTML = "Nazwa ligi: " + leagues[k] + ". Url: " + leagues[k+1] + ".";
//}

//TEAMS@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

var teams = [];
               
function gotTeam(data) {
				
	var ovteam = data.val();
	var keys = Object.keys(ovteam);
	var teamname = ovteam.name;
	var teamacronym = ovteam.acronym;
	teams.push(teamname);
	teams.push(teamacronym);
				   
				   
	//console.log(teams);
	//console.log(teams[0]);
	//document.getElementById("teamy").innerHTML = teams;
	//for (var k = 0; k < 50; k+2) {
	//document.getElementById("team" + k).innerHTML = "Nazwa drużyny: " + teams[k] + ". Akronim: " + teams[k+1] + ".";
	//}
	document.getElementById("team0").innerHTML = "Nazwa drużyny: " + teams[0] + ". Akronim: " + teams[1] + ".";
	document.getElementById("team1").innerHTML = "Nazwa drużyny: " + teams[2] + ". Akronim: " + teams[3] + ".";
	document.getElementById("team2").innerHTML = "Nazwa drużyny: " + teams[4] + ". Akronim: " + teams[5] + ".";
	document.getElementById("team3").innerHTML = "Nazwa drużyny: " + teams[6] + ". Akronim: " + teams[7] + ".";
	document.getElementById("team4").innerHTML = "Nazwa drużyny: " + teams[8] + ". Akronim: " + teams[9] + ".";
	document.getElementById("team5").innerHTML = "Nazwa drużyny: " + teams[10] + ". Akronim: " + teams[11] + ".";
	document.getElementById("team6").innerHTML = "Nazwa drużyny: " + teams[12] + ". Akronim: " + teams[13] + ".";
	document.getElementById("team7").innerHTML = "Nazwa drużyny: " + teams[14] + ". Akronim: " + teams[15] + ".";
	document.getElementById("team8").innerHTML = "Nazwa drużyny: " + teams[16] + ". Akronim: " + teams[17] + ".";
	document.getElementById("team9").innerHTML = "Nazwa drużyny: " + teams[18] + ". Akronim: " + teams[19] + ".";
	
	}			
	for (var teamnumber = 0; teamnumber < 10; teamnumber++) {
		database.ref('videogame3/teams/' + teamnumber).on('value', gotTeam, errData);
		}

//PLAYERS@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

var players = [];
               
	function gotPlayers(data) {
							   
		var lolplayers = data.val();
		var keys = Object.keys(lolplayers);
		var playername = lolplayers.name;
		players.push(playername);
		
								  
								  
		//console.log(players);
		//console.log(teams[0]);
		//document.getElementById("teamy").innerHTML = teams;
		
		document.getElementById("graczeteam1").innerHTML = "Gracze drużyny: " + players[0] + ", " + players[1] + ", " + players[2] + ", " + players[3] + ", " + players[4] + ", " + players[5] + ".";
		document.getElementById("graczeteam2").innerHTML = "Gracze drużyny: " + players[6] + ", " + players[7] + ", " + players[8] + ", " + players[9] + ", " + players[10] + ", " + players[11] + ".";
		document.getElementById("graczeteam3").innerHTML = "Gracze drużyny: " + players[12] + ", " + players[13] + ", " + players[14] + ", " + players[15] + ", " + players[16] + ", " + players[17] + ".";
		document.getElementById("graczeteam4").innerHTML = "Brak danych";
		document.getElementById("graczeteam5").innerHTML = "Brak danych";
		document.getElementById("graczeteam6").innerHTML = "Gracze drużyny: " + players[18] + ", " + players[19] + ", " + players[20] + ", " + players[21] + ", " + players[22] + ", " + players[23] + ".";
		document.getElementById("graczeteam7").innerHTML = "Gracze drużyny: " + players[24] + ", " + players[25] + ", " + players[26] + ", " + players[27] + ", " + players[28] + ", " + players[29] + ".";
		document.getElementById("graczeteam8").innerHTML = "Gracze drużyny: " + players[30] + ", " + players[31] + ", " + players[32] + ", " + players[33] + ", " + players[34] + ", " + players[35] + ".";
		document.getElementById("graczeteam9").innerHTML = "Gracze drużyny: " + players[36] + ", " + players[37] + ", " + players[38] + ", " + players[39] + ", " + players[40] + ", " + players[41] + ".";
		document.getElementById("graczeteam10").innerHTML = "Gracze drużyny: " + players[42] + ", " + players[43] + ", " + players[44] + ", " + players[45] + ", " + players[46] + ", " + players[47] + ".";
		


		}
		var i = 0
		for (var playernumber = 0; playernumber < 6; playernumber++) {
			database.ref('videogame3/teams/0/players/' + playernumber).on('value', gotPlayers, errData);
			database.ref('videogame3/teams/1/players/' + playernumber).on('value', gotPlayers, errData);
			database.ref('videogame3/teams/2/players/' + playernumber).on('value', gotPlayers, errData);
			database.ref('videogame3/teams/3/players/' + playernumber).on('value', gotPlayers, errData);
			database.ref('videogame3/teams/4/players/' + playernumber).on('value', gotPlayers, errData);
			database.ref('videogame3/teams/5/players/' + playernumber).on('value', gotPlayers, errData);
			database.ref('videogame3/teams/6/players/' + playernumber).on('value', gotPlayers, errData);
			database.ref('videogame3/teams/7/players/' + playernumber).on('value', gotPlayers, errData);
			database.ref('videogame3/teams/8/players/' + playernumber).on('value', gotPlayers, errData);
			database.ref('videogame3/teams/9/players/' + playernumber).on('value', gotPlayers, errData);
			}


//ERRORS@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
function errData(err) {
    console.log('Error!');
    console.log(err);
}
//DROPDOWN Initialize@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
$('.dropdown-toggle').dropdown('toggle')
</script>

<div><H1>Nazwa gry oraz jej tag:</h1></div>
<div id="nazwa"></div></br>


<div><h1>Ligi gry wraz z odnośnikami do stron ligowych</h1></div>
<div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <div id="liga0"></div>
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <a class="dropdown-item" href="https://worldcup.playoverwatch.com/en-us/"><p id="ligaurl0"></p></p></a>
  </div>
</div></br>
<div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <div id="liga2"></div>
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <a class="dropdown-item" href="https://overwatchleague.com/en-us/"><p id="ligaurl2"></p></p></a>
  </div>
</div></br>


<div><h1>Drużyny wraz z ich graczami</h1></div>
<div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <div id="team0"></div>
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <a class="dropdown-item"><p id="graczeteam1"></p></a>
  </div>
</div></br>
<div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <div id="team1"></div>
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <a class="dropdown-item"><p id="graczeteam2"></p></a>
  </div>
</div></br>
<div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <div id="team2"></div>
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <a class="dropdown-item"><p id="graczeteam3"></p></a>
  </div>
</div></br>
<div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <div id="team3"></div>
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <a class="dropdown-item"><p id="graczeteam4"></p></a>
  </div>
</div></br>
<div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <div id="team4"></div>
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <a class="dropdown-item"><p id="graczeteam5"></p></a>
  </div>
</div></br>
<div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <div id="team5"></div>
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <a class="dropdown-item"><p id="graczeteam6"></p></a>
  </div>
</div></br>
<div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <div id="team6"></div>
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <a class="dropdown-item"><p id="graczeteam7"></p></a>
  </div>
</div></br>
<div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <div id="team7"></div>
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <a class="dropdown-item"><p id="graczeteam8"></p></a>
  </div>
</div></br>
<div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <div id="team8"></div>
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <a class="dropdown-item"><p id="graczeteam9"></p></a>
  </div>
</div></br>
<div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <div id="team9"></div>
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <a class="dropdown-item"><p id="graczeteam10"></p></a>
  </div>
</div></br>

</body>
</html>
